<div class="add-background">
<div class="container">
  <div class="col-md-6">
    <h2>View Bills</h2>
    <div class="form-group">
      <label for="searchPatientName">Filter By Patient Name:</label>
      <input type="text" class="form-control" id="searchPatientName" [(ngModel)]="searchPatientName" name="searchPatientName" (keyup.enter)="viewBillsByName()">
    </div>
    <br>
    <button class="btn btn-primary" (click)="navViewBills()" type="submit">Clear</button>
  </div>
  <br>
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="bills" class="mat-table">
      <ng-container matColumnDef="billNumber">
        <th mat-header-cell *matHeaderCellDef>Bill Number</th>
        <td mat-cell *matCellDef="let bill">{{ bill.billNumber }}</td>
      </ng-container>
      
      <ng-container matColumnDef="patientName">
        <th mat-header-cell *matHeaderCellDef>Patient Name</th>
        <td mat-cell *matCellDef="let bill">{{ bill.patientName }}</td>
      </ng-container>

      <ng-container matColumnDef="testName">
        <th mat-header-cell *matHeaderCellDef>Test Name</th>
        <td mat-cell *matCellDef="let bill">{{ bill.testName }}</td>
      </ng-container>

      <ng-container matColumnDef="paidAmount">
        <th mat-header-cell *matHeaderCellDef>Paid Amount</th>
        <td mat-cell *matCellDef="let bill">{{ bill.paidAmount }}</td>
      </ng-container>

      <ng-container matColumnDef="balance">
        <th mat-header-cell *matHeaderCellDef>Balance</th>
        <td mat-cell *matCellDef="let bill">{{ bill.balance }}</td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let bill">{{ bill.date | date }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      
    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let bill">
          <button mat-icon-button class="warn" (click)="deleteBill(bill._id)">
        <mat-icon>delete</mat-icon>
          </button>
      </td>
    </ng-container>
    </table>
  </div>
</div>
</div>